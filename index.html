<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‚ú® Magic Sister Birthday Card ‚ú®</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">

<style>
    body {
        margin: 0;
        overflow: hidden;
        font-family: 'Quicksand', sans-serif;
        background: linear-gradient(-45deg, #ffd6ec, #e0c3fc, #c2f0ff, #ffe5b4, #ffd6ec);
        background-size: 500% 500%;
        animation: rainbowBG 15s ease infinite;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        -webkit-user-select: none;
        user-select: none;
        -webkit-touch-callout: none;
        width: 100%;
        height: 100vh;
    }

    @keyframes rainbowBG {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    /* FLIP CARD */
    .flip-card {
        perspective: 1000px;
        width: min(380px, 90vw);
        height: auto;
        aspect-ratio: 380/520;
        cursor: pointer;
        max-width: 380px;
    }
    .flip-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        transform-style: preserve-3d;
    }
    .flip-card.flipped .flip-card-inner {
        transform: rotateY(180deg);
    }
    .flip-card-front, .flip-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 35px;
        box-shadow: 0 20px 60px rgba(255,105,180,0.5);
        overflow: hidden;
    }
    .flip-card-front {
        background: rgba(255,255,255,0.96);
        border: 6px solid #ff9ad5;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px 30px;
    }
    .flip-card-front img {
        width: clamp(100px, 35vw, 150px);
        height: clamp(100px, 35vw, 150px);
        object-fit: cover;
        border-radius: 50%;
        border: 4px solid #ff69b4;
        margin-bottom: 15px;
        box-shadow: 0 8px 20px rgba(255,105,180,0.4);
    }
    .flip-card-back {
        background: linear-gradient(135deg, #fff0f8, #f0e6ff);
        border: 6px solid #c2a8ff;
        transform: rotateY(180deg);
        padding: 40px 30px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
    }

    h1 {
        font-family: 'Pacifico', cursive;
        font-size: clamp(1.5rem, 4vw, 2.5rem);
        color: #ff1493;
        text-shadow: 0 4px 12px rgba(255,105,180,0.4);
        text-align: center;
    }

    .open-btn, .magic-btn {
        padding: 14px 36px;
        font-size: clamp(0.95rem, 3vw, 1.1rem);
        border: none;
        border-radius: 50px;
        background: linear-gradient(45deg, #ff69b4, #ff1493);
        color: white;
        cursor: pointer;
        box-shadow: 0 8px 20px rgba(255,105,180,0.4);
        margin-top: 15px;
        transition: all 0.4s;
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
    }
    .open-btn:hover, .magic-btn:hover,
    .open-btn:active, .magic-btn:active {
        transform: scale(1.12) rotate(4deg);
    }

    /* Inside Card */
    .inside-heart { font-size: 90px; margin-bottom: 20px; }

    /* Cake */
    #magicCake {
        position: fixed;
        top: 28%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
        font-size: clamp(120px, 50vw, 210px);
        z-index: 999;
        transition: all 1.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        filter: drop-shadow(0 25px 40px rgba(255, 215, 0, 0.7));
    }
    #magicCake.show { transform: translate(-50%, -50%) scale(1); }

    .candle { position: absolute; font-size: 48px; animation: flicker 0.7s infinite alternate; }
    @keyframes flicker { 0% { opacity: 0.7; transform: scale(0.95); } 100% { opacity: 1; transform: scale(1.15); } }

    /* Other styles */
    .float { position: fixed; font-size: 30px; animation: floatUp 7s linear infinite; pointer-events: none; }
    @keyframes floatUp { from { transform: translateY(110vh) rotate(0deg); } to { transform: translateY(-30vh) rotate(30deg); opacity: 0; } }

    .sparkle { position: fixed; font-size: 20px; pointer-events: none; animation: sparkleAnim 1s linear forwards; }
    @keyframes sparkleAnim { to { opacity: 0; transform: translateY(-40px) scale(0.5); } }

    #gameArea { position: fixed; bottom: 25px; width: 100%; z-index: 10; }
    .gift { position: absolute; font-size: clamp(36px, 10vw, 52px); cursor: pointer; transition: all 0.25s; -webkit-tap-highlight-color: transparent; touch-action: none; }
    .caught { transform: scale(2.4) rotate(25deg) !important; filter: brightness(1.6); }
</style>
</head>

<body>

<!-- THE MAGIC CARD -->
<div class="flip-card" id="flipCard">
    <div class="flip-card-inner">
        
        <!-- FRONT -->
        <div class="flip-card-front" onclick="openCard()">
            <!-- Add Sister Manisha's photo here -->
            <img src="manisha.jpg.jpeg" alt="Sister Manisha Photo">
            <div style="font-size:60px;">üëëüíñ</div>
            <h1>Happy Birthday<br>Sister Manisha!</h1>
            <p style="font-size:1.1rem; color:#ff69b4; margin:10px 0;">Tap to open your magical card ‚ú®</p>
            <button class="open-btn">Open Card üéÄ</button>
        </div>
        
        <!-- BACK (Inside) -->
        <div class="flip-card-back">
            <div class="inside-heart">üíñ</div>
            <h1 style="font-size:2rem; margin:10px 0 15px;">To My Beautiful Sister</h1>
            <p style="font-size:1.1rem; line-height:1.6; color:#6b4e9e; max-width:280px;">
                May your day be filled with endless magic, laughter, and all the love in the universe.<br><br>
                You make every moment sparkle ‚ú®<br>
                Happy Birthday Sister Manisha!
            </p>
            <button class="magic-btn" onclick="startMagic()">Start the Magic Party üéÇüé∂</button>
        </div>
    </div>
</div>

<!-- THE CAKE -->
<div id="magicCake">üéÇ
    <span class="candle" style="top:-95px;left:48px;">üïØÔ∏è</span>
    <span class="candle" style="top:-95px;left:98px;">üïØÔ∏è</span>
    <span class="candle" style="top:-95px;left:148px;">üïØÔ∏è</span>
</div>

<div id="gameArea"></div>

<!-- THE SONG -->
<audio id="birthdaySong" loop>
    <source src="https://media.vole.wtf/happy-birthday/choir.mp3" type="audio/mpeg">
</audio>

<script>
// Floating emojis
const emojis = ["üíñ","üå∏","ü¶Ñ","‚ú®","üéÄ","üåà","üç≠","üßö","‚≠ê","ü¶ã","üç∞"];
setInterval(() => {
    const el = document.createElement("div");
    el.classList.add("float");
    el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
    el.style.left = Math.random() * 100 + "vw";
    el.style.animationDuration = (Math.random() * 3 + 5.5) + "s";
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 10000);
}, 380);

// Sparkle mouse trail & touch trail
document.addEventListener("mousemove", e => {
    if (Math.random() > 0.4) {
        const sparkle = document.createElement("div");
        sparkle.classList.add("sparkle");
        sparkle.innerHTML = Math.random() > 0.5 ? "‚ú®" : "‚≠ê";
        sparkle.style.left = e.pageX + "px";
        sparkle.style.top = e.pageY + "px";
        sparkle.style.fontSize = (14 + Math.random() * 14) + "px";
        document.body.appendChild(sparkle);
        setTimeout(() => sparkle.remove(), 1100);
    }
});

document.addEventListener("touchmove", e => {
    if (Math.random() > 0.4 && e.touches.length > 0) {
        const touch = e.touches[0];
        const sparkle = document.createElement("div");
        sparkle.classList.add("sparkle");
        sparkle.innerHTML = Math.random() > 0.5 ? "‚ú®" : "‚≠ê";
        sparkle.style.left = touch.pageX + "px";
        sparkle.style.top = touch.pageY + "px";
        sparkle.style.fontSize = (14 + Math.random() * 14) + "px";
        document.body.appendChild(sparkle);
        setTimeout(() => sparkle.remove(), 1100);
    }
}, { passive: true });

// Open the card + voice greeting
function openCard() {
    const card = document.getElementById("flipCard");
    card.classList.add("flipped");

    try {
        const msg = new SpeechSynthesisUtterance(
            "Happy Birthday my beautiful Sister Manisha! You deserve all the magic and love in the world today and every day!"
        );
        msg.pitch = 1.25;
        msg.rate = 0.92;
        speechSynthesis.speak(msg);
    } catch(e) {
        console.log("Speech synthesis not available");
    }
}

// Full magic party
function startMagic() {
    const audio = document.getElementById("birthdaySong");
    audio.play().catch(e => console.log("Audio autoplay prevented on mobile"));
    document.getElementById("magicCake").classList.add("show");

    for(let i = 0; i < 130; i++) {
        setTimeout(() => {
            const c = document.createElement("div");
            c.style.position = "fixed";
            c.style.fontSize = "34px";
            c.style.left = Math.random() * 100 + "vw";
            c.style.top = "-60px";
            c.style.zIndex = "9999";
            c.textContent = ["üéâ","üåü","üíé","ü¶Ñ","üå∏","üç∞","üïØÔ∏è"][Math.floor(Math.random()*7)];
            document.body.appendChild(c);
            
            let y = -60;
            const fall = setInterval(() => {
                y += 11 + Math.random() * 10;
                c.style.top = y + "px";
                c.style.transform = `rotate(${y * 2.8}deg)`;
                if (y > window.innerHeight + 100) {
                    clearInterval(fall);
                    c.remove();
                }
            }, 18);
        }, i * 11);
    }

    startGame();
}

// Gift catching game
let score = 0;
function startGame() {
    const area = document.getElementById("gameArea");
    area.innerHTML = `
        <div style="position:absolute;bottom:30px;left:50%;transform:translateX(-50%);color:#fff;font-size:1.5rem;font-weight:700;text-shadow:0 0 20px #ff69b4;" id="score">
            Gifts caught: <span id="count">0</span> üíé
        </div>`;
    
    setInterval(() => {
        const gift = document.createElement("div");
        gift.classList.add("gift");
        gift.innerHTML = "üéÅ";
        gift.style.left = Math.random() * 88 + "vw";
        gift.style.top = (Math.random() * 48 + 10) + "vh";
        
        const catchGift = () => {
            score++;
            document.getElementById("count").textContent = score;
            gift.innerHTML = "üíé";
            gift.classList.add("caught");
            setTimeout(() => gift.remove(), 380);
        };
        
        gift.addEventListener("click", catchGift);
        gift.addEventListener("touchstart", (e) => {
            e.preventDefault();
            catchGift();
        });
        
        area.appendChild(gift);
        setTimeout(() => { if(gift.parentNode) gift.remove(); }, 2600);
    }, 950);
}
</script>
</body>
</html>
